/* version: 1.0.5 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["MINI-MEMOIZE"]=t()}(this,(function(){"use strict";function e(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var t=function(){function e(e){this.max=e,this.cache=new Map}return e.prototype.get=function(e){var t=this.cache.get(e);return t&&(this.cache.delete(e),this.cache.set(e,t)),t},e.prototype.set=function(e,t){this.max&&this.cache.size===this.max&&(this.cache.has(e)?this.cache.delete(e):this.cache.delete(this.cache.keys().next().value)),this.cache.set(e,t)},e.prototype.delete=function(e){return this.cache.delete(e)},e.prototype.clear=function(){this.cache.clear()},e.prototype.has=function(e){return this.cache.has(e)},e.prototype.keys=function(){return Array.from(this.cache.keys())},e}(),n=function(){function e(){this.events=new Map}return e.prototype.on=function(e,t){var n=this.events.get(e);n||(this.events.set(e,[]),n=this.events.get(e)),n.push(t)},e.prototype.off=function(e,t){var n=this.events.get(e);if(n){var r=n.indexOf(t);r>-1&&n.splice(r,1)}},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.events.get(e);i&&i.forEach((function(e){e.apply(t,n)}))},e}(),r=JSON.parse,i=JSON.stringify;function o(e,t,n){return e.keys().filter((function(e){return n(r(e))})).every((function(n){return t.emit("delete",r(n)),e.delete(n)}))}return function(r,c){var f=new t(c?c.max:null),h=new n,s=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return r.call(this);var o=i(t),c=f.get(o);return c||(c=r.call.apply(r,e([this],t)),f.set(o,c)),c};return s.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return h.emit("get",e),f.get(i(e))},s.delete=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"function"==typeof e[0]&&1===e.length?o(f,h,e[0]):(h.emit("delete",e),f.delete(i(e)))},s.clear=function(){h.emit("clear"),f.clear()},s.has=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return f.has(i(e))},s.on=function(e,t){h.on(e,t)},s.off=function(e,t){h.off(e,t)},s}}));
